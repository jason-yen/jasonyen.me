<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flag Generator</title>
    <link rel="stylesheet" href="/navbar.css">
    <link rel="stylesheet" href="/navbar.css">
    <style>

        /* Button Styles for Flag Generation */
        .generate-flag-button {
            display: inline-block;
            margin-top: 20px;
            padding: 15px 30px;
            background-color: #4c5eaf;
            color: white;
            font-size: 18px;
            border-radius: 10px;
            text-decoration: none;
            transition: 0.3s;
        }

        .generate-flag-button:hover {
            background-color: #2f4a88;
        }

        /* Flag Styles */
        .flag {
            width: 300px;
            height: 200px;
            margin: 20px auto;
            position: relative;
        }

        /* USA Flag Styles */
        .usa-flag {
            background-color: #B22234;
            position: relative;
            height: 100%;
            width: 100%;
        }

        .usa-stripe {
            width: 100%;
            height: 14.28%;
            background-color: white;
            position: absolute;
        }

        .usa-blue-field {
            background-color: #003366;
            position: absolute;
            top: 0;
            left: 0;
            width: 40%;
            height: 50%;
        }

        .usa-star {
            width: 10px;
            height: 10px;
            background-color: white;
            border-radius: 50%;
            position: absolute;
        }

        /* China Flag Styles */
        .china-flag {
            background-color: #DE2910;
            position: relative;
            height: 100%;
            width: 100%;
        }

        .china-star {
            width: 30px;
            height: 30px;
            background-color: yellow;
            border-radius: 50%;
            position: absolute;
        }

        .china-small-star {
            width: 10px;
            height: 10px;
            background-color: yellow;
            border-radius: 50%;
            position: absolute;
        }

        /* Madagascar Flag Styles */
        .madagascar-flag {
            background-color: #007847;
            position: relative;
            height: 100%;
            width: 100%;
        }

        .madagascar-stripe {
            background-color: white;
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            width: 50%;
        }
    </style>
</head>
<body>

<!-- Navbar -->
<div class="navbar">
    <div class="navbar-content">
        <a href="/">Home</a>
        <a href="/games">Games</a>
        <div class="separator">|</div>
        <a href="/tools">Tools</a>
    </div>
</div>

<!-- Main Title Section -->
<div class="main-title">
    Flag Generator
</div>

<!-- Content Section -->
<div class="content">
    Generate random flags from different countries!
</div>

<!-- Generate Random Flag Button -->
<div class="content">
    <a href="#" class="generate-flag-button" onclick="generateFlag()">Generate Random Flag</a>
</div>

<!-- Flag Display Section -->
<div class="flag" id="flag"></div>

<script>
    // Variable to store the last generated flag
    let lastFlag = '';

    function generateFlag() {
        const flagContainer = document.getElementById('flag');
        flagContainer.innerHTML = '';  // Clear any previous flag

        // Flag options
        const flags = ['usa', 'china', 'madagascar'];
        
        // Choose a random flag, ensuring it's not the same as the last flag
        let randomFlag = flags[Math.floor(Math.random() * flags.length)];

        // If the randomly selected flag is the same as the last one, pick a new one
        while (randomFlag === lastFlag) {
            randomFlag = flags[Math.floor(Math.random() * flags.length)];
        }

        lastFlag = randomFlag;  // Update lastFlag to the newly generated one

        // Generate the selected flag
        if (randomFlag === 'usa') {
            // USA Flag Generation
            const usaFlag = document.createElement('div');
            usaFlag.classList.add('usa-flag');

            for (let i = 0; i < 13; i++) {
                const stripe = document.createElement('div');
                stripe.classList.add('usa-stripe');
                stripe.style.top = `${i * 14.28}%`; 
                if (i % 2 === 0) stripe.style.backgroundColor = '#B22234'; 
                else stripe.style.backgroundColor = 'white';
                usaFlag.appendChild(stripe);
            }

            const blueField = document.createElement('div');
            blueField.classList.add('usa-blue-field');
            usaFlag.appendChild(blueField);

            const starPositions = [
                { top: '5%', left: '5%' }, { top: '5%', left: '15%' }, { top: '5%', left: '25%' }, { top: '5%', left: '35%' }, { top: '5%', left: '45%' },
                { top: '15%', left: '5%' }, { top: '15%', left: '15%' }, { top: '15%', left: '25%' }, { top: '15%', left: '35%' }, { top: '15%', left: '45%' }
            ];

            for (const pos of starPositions) {
                const star = document.createElement('div');
                star.classList.add('usa-star');
                star.style.top = pos.top;
                star.style.left = pos.left;
                blueField.appendChild(star);
            }

            flagContainer.appendChild(usaFlag);

        } else if (randomFlag === 'china') {
            // China Flag Generation
            const chinaFlag = document.createElement('div');
            chinaFlag.classList.add('china-flag');

            const bigStar = document.createElement('div');
            bigStar.classList.add('china-star');
            bigStar.style.top = '5%';
            bigStar.style.left = '5%';
            chinaFlag.appendChild(bigStar);

            const smallStarPositions = [
                { top: '15%', left: '15%' }, { top: '25%', left: '5%' }, { top: '35%', left: '15%' }, { top: '45%', left: '5%' }
            ];

            for (const pos of smallStarPositions) {
                const smallStar = document.createElement('div');
                smallStar.classList.add('china-small-star');
                smallStar.style.top = pos.top;
                smallStar.style.left = pos.left;
                chinaFlag.appendChild(smallStar);
            }

            flagContainer.appendChild(chinaFlag);

        } else if (randomFlag === 'madagascar') {
            // Madagascar Flag Generation
            const madagascarFlag = document.createElement('div');
            madagascarFlag.classList.add('madagascar-flag');
            const stripe = document.createElement('div');
            stripe.classList.add('madagascar-stripe');
            madagascarFlag.appendChild(stripe);
            flagContainer.appendChild(madagascarFlag);
        }
    }
</script>

</body>
</html>
